<nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
        <a class="navbar-brand" routerLink="/admin/dashboard">Panel de Administración</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <button class="nav-link" (click)="logOut()">Cerrar sesión</button>
                </li>
            </ul>
        </div>
    </div>
</nav>


<main class="container-fluid">
    <section class="row p-4">
        <h2 class="text-center"> Tareas del usuario </h2>
        @for (item of tasks; track $index) {
        <article class="p-2 col-lg-4">
            <div class="card p-2">
                <h5 class="mb-3">Nombre: {{item.name}}</h5>
                <p class="mb-3">Prioridad: {{item.priority}}</p>
                <p class="mb-3">Estado: {{item.state}}</p>
                <p class="mb-3">Proyecto: {{item.project}}</p>
                <form [formGroup]="taskForm"
                    (ngSubmit)="updateTask(item.name,item.priority,item.id_employee,item.id_project,item.id)">
                    <h5 class="text-center">Actualizar progreso de la tarea</h5>
                    <div class="mb-3">
                        <select class="form-select" formControlName="state">
                            <option value="No iniciado">No iniciado</option>
                            <option value="En proceso"> En proceso </option>
                            <option value="Terminado"> Terminado </option>
                        </select>
                    </div>
                    <button class="btn btn-dark" type="submit">Aplicar cambios</button>
                </form>

            </div>
        </article>
        }
    </section>
</main>